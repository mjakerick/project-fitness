<!DOCTYPE html>
<html lang="en" dir="ltr" ng-app="FitnessApp">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Project Fitness</title>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.8/angular.min.js" charset="utf-8"></script>
  <script src="js/app.js" charset="utf-8"></script>
  <link rel="stylesheet" href="css/style.css">
</head>
<body ng-controller="MyController as ctrl">
  <h1>Project Fitness</h1>
  <form ng-submit="ctrl.createLog()">
    <select ng-model="ctrl.type" id = "myList">
      <option value="" selected disabled hidden>Type of Exercise</option>
      <option value = "weights">Weights</option>
      <option value = "cardio">Cardio</option>
    </select>
    <input type="text" ng-model="ctrl.title" placeholder="Title">
    <input type="text" ng-model="ctrl.description" placeholder='Description'>
    <input type="submit" value="Add Log">
  </form>
  <ul>
    <li ng-repeat="log in ctrl.logs">
      {{ log.title }}: {{ log.description }}
      <button ng-click="ctrl.deleteLog(log._id)">x</button>
      <form ng-submit="ctrl.updateLog(log)" ng-if="$index === ctrl.indexOfEditFormToShow">
        <select ng-model="ctrl.updatedType" id="Type">
          <option value="" selected disabled hidden>Type of Exercise</option>
          <option value = "strength">Strength</option>
          <option value = "cardio">Cardio</option>
        </select>
        <input type="text" ng-model="ctrl.updatedTitle" placeholder="Title">
        <input type="text" ng-model="ctrl.updatedDescription" placeholder="Description">
        <input type="submit" name="" value="Update">
      </form>
      <button
      ng-if="$index !== ctrl.indexOfEditFormToShow"
      ng-click="ctrl.indexOfEditFormToShow = $index"
      >EDIT</button></li>
  </ul>
</body>
</html>
